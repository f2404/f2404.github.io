<script>
//  var post_data = '{ajax=step_settings&rfc=&textnames=0&pv=0&reviving=1&widgets=0}';
//  var xmlhttp=new XMLHttpRequest();
//  xmlhttp.open("POST", 'https://www.torn.com/preferences.php', true);
//  xmlhttp.onreadystatechange = function () {
//  if (xmlhttp.readyState == 4)
//  {
//  //alert(xmlhttp.responseText);
//  alert(`isTr=${userIsTravelling()}`);
//  }
//  };
//  xmlhttp.send(post_data);
  let httpRequest;

  function makeRequest() {
    httpRequest = new XMLHttpRequest();

    if (!httpRequest) {
      alert('Giving up :( Cannot create an XMLHTTP instance');
      return false;
    }
    httpRequest.onreadystatechange = alertContents;
    httpRequest.open('GET', 'https://www.torn.com/api.html');
    httpRequest.send();
  }

  function alertContents() {
    if (httpRequest.readyState === XMLHttpRequest.DONE) {
      if (httpRequest.status === 200) {
        alert(httpRequest.responseText);
      } else {
        alert('There was a problem with the request.');
      }
    }
  }

  makeRequest();
</script>
